# 病虫害检测服务器环境变量配置
# 复制此文件为 .env 并根据实际环境修改配置

# ==================== 服务器配置 ====================
SERVER_PORT=8080
SERVER_MODE=debug
SERVER_READ_TIMEOUT=30s
SERVER_WRITE_TIMEOUT=30s
SERVER_IDLE_TIMEOUT=60s

# ==================== 数据库配置 ====================
DB_HOST=localhost
DB_PORT=3306
DB_USERNAME=root
DB_PASSWORD=your_password_here
DB_DATABASE=pest_detection
DB_MAX_OPEN_CONNS=100
DB_MAX_IDLE_CONNS=10
DB_CONN_LIFETIME=1h

# ==================== Redis配置 ====================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DATABASE=0
REDIS_POOL_SIZE=10
REDIS_MIN_IDLE_CONNS=5

# ==================== JWT配置 ====================
JWT_SECRET_KEY=your-super-secret-jwt-key-here
JWT_EXPIRE_TIME=24h

# ==================== Kafka配置 ====================
KAFKA_BROKERS=localhost:9092
KAFKA_TOPIC=audio_detection
KAFKA_GROUP_ID=detection_group

# ==================== 文件上传配置 ====================
UPLOAD_MAX_SIZE=100MB
UPLOAD_ALLOWED_TYPES=wav,mp3,flac
UPLOAD_PATH=./uploads

# ==================== 日志配置 ====================
LOG_LEVEL=info
LOG_FORMAT=json
LOG_FILE=./logs/app.log
LOG_MAX_SIZE=100MB
LOG_MAX_AGE=30d
LOG_MAX_BACKUPS=10

# ==================== 安全配置 ====================
CORS_ALLOW_ORIGINS=*
CORS_ALLOW_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_ALLOW_HEADERS=Origin,Content-Type,Authorization
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW=1m

# ==================== 监控配置 ====================
METRICS_ENABLED=true
METRICS_PORT=9090
HEALTH_CHECK_INTERVAL=30s
SLOW_QUERY_THRESHOLD=1s

# ==================== 生产环境配置 ====================
# 生产环境建议设置
# SERVER_MODE=release
# LOG_LEVEL=warn
# CORS_ALLOW_ORIGINS=https://yourdomain.com
# RATE_LIMIT_REQUESTS=1000
# RATE_LIMIT_WINDOW=1m
